(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(51),l=a.n(r),c=(a(59),a(2)),i=a(3),o=a(5),u=a(4),m=a(6),p=a(14),h=a(7),d=(a(30),a(9)),f=a.n(d),v=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).cancelMessage=function(){a.props.cancelFlash()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="error";return this.props&&this.props.flashType&&(e=this.props.flashType),this.props&&this.props.flash?s.a.createElement("div",{className:e},this.props.flash," ",s.a.createElement("button",{className:"x-button",onClick:this.cancelMessage},"X")):s.a.createElement("div",{className:"no-flash"},"No Flash")}}]),t}(n.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"footer"},s.a.createElement("span",{className:"footer-text"},"Created by Biencarlo V., Leslie V. & Ken T. \xa9 ",(new Date).getFullYear()))}}]),t}(n.Component),E=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"About-container-how"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"how-it-works col s12 m4"},s.a.createElement("a",{href:"/results"},s.a.createElement("p",null,"Search Travel Destinations"),s.a.createElement("i",{className:"how material-icons"},"language"))),s.a.createElement("div",{className:"how-it-works col s12 m4"},s.a.createElement("p",null,"View & Save Top Restaurants"),s.a.createElement("i",{className:"how material-icons"},"border_color")),s.a.createElement("div",{className:"how-it-works col s12 m4"},s.a.createElement("p",null,"Create Your Custom Packing List"),s.a.createElement("i",{className:"how material-icons"},"clear_all")))))}}]),t}(n.Component),g=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"About-container z-depth-3"},s.a.createElement("section",{id:"team"},s.a.createElement("h5",null,"The Team"),s.a.createElement("p",{id:"team-description"},"A MERN project for the UC Berkeley extension Full Stack program by:"),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12 m4"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{className:"profile-pic",src:"https://github.com/kent28808/React-Portfolio/blob/main/src/assets/profile.jpg?raw=true",alt:"Ken"})),s.a.createElement("div",{className:"card-content team-members"},s.a.createElement("a",{href:"https://github.com/kent28808",className:"team-link"},"Ken Tanoue")))),s.a.createElement("div",{className:"col s12 m4"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{className:"profile-pic",src:"https://github.com/leslievill/reactportfolio/blob/main/public/images/leslie.png?raw=true",alt:"Leslie"})),s.a.createElement("div",{className:"card-content"},s.a.createElement("a",{href:"https://github.com/leslievill",className:"team-link"},"Leslie Villatoro")))),s.a.createElement("div",{className:"col s12 m4"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{className:"profile-pic",src:"https://github.com/biencarlovilla/About-Me/blob/master/images/portrait.png?raw=true",alt:"Biencarlo"})),s.a.createElement("div",{className:"card-content"},s.a.createElement("a",{href:"https://github.com/biencarlovilla",className:"team-link"},"Biencarlo Villa"))))))))}}]),t}(n.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Home"},s.a.createElement(E,null),s.a.createElement(g,null))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){e.preventDefault(),localStorage.removeItem("mernToken"),a.props.updateUser(),a.setState({redirect:!0})},a.state={redirect:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.redirect?s.a.createElement(h.a,{to:"/"}):s.a.createElement("a",{href:"/",onClick:this.handleLogout},"Logout")}}]),t}(n.Component),N=a(53),k=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=s.a.createElement("span",null);return e=this.props.user?s.a.createElement("span",null,s.a.createElement(p.b,{to:"/saved/profile"},"Profile"),s.a.createElement(O,{updateUser:this.props.updateUser})):s.a.createElement("span",null,s.a.createElement(p.b,{to:"/login"},"Login"),s.a.createElement(p.b,{to:"/signup"},"Sign Up")),s.a.createElement("div",{className:"navbar-fixed"},s.a.createElement("nav",{className:"transparent z-depth-0"},s.a.createElement("div",{className:"nav-wrapper"},s.a.createElement("div",{className:"col s12"},s.a.createElement("a",{href:"/"},"Home"),s.a.createElement("a",{href:"/#team"},"Team"),s.a.createElement(p.b,{to:"/results"},"Search"),e))),s.a.createElement("header",{className:"App-header"},s.a.createElement(N.Animated,{animationIn:"bounceInLeft",animationOut:"fadeOut",isVisible:!0},s.a.createElement("p",{className:"App-title"},"WhereToGo"))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),f.a.post("/auth/login",{email:a.state.email,password:a.state.password}).then(function(e){localStorage.setItem("mernToken",e.data.token),a.setState({success:!0}),a.props.updateUser()}).catch(function(e){console.log("error returned",e.response.data),a.props.setFlash("error",e.response.status+": "+(e.response.data&&e.response.data.error?e.response.data.message:e.response.statusText))})},a.state={email:"",password:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="";return this.props.user?s.a.createElement(h.a,{to:"/saved/profile"}):(e=s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",null,s.a.createElement("input",{name:"Email",placeholder:"Enter your email",value:this.state.email,onChange:this.handleEmailChange})),s.a.createElement("div",null,s.a.createElement("input",{name:"Password",placeholder:"Enter your password",type:"password",value:this.state.password,onChange:this.handlePasswordChange})),s.a.createElement("button",{type:"submit",value:"Login",className:"waves-effect waves-teal btn-flat"},"Login",s.a.createElement("i",{class:"material-icons left"},"person"))),s.a.createElement("div",{className:"login-form"},s.a.createElement("div",{className:"container"},e)))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).deleteItem=function(e){var t=a.state.toPack,n=t.indexOf(e);n>=0&&(t.splice(n,1),a.setState({toPack:t}),console.log("toPackLocal",t)),f.a.delete("/saved/profile/list/".concat(a.props.user.id),{data:{list:t}}).then(function(t){console.log("removed item from list",e)}).catch(function(e){console.log("err",e)})},a.add=function(e){if(e.preventDefault(),a.state.newItem){var t=a.state.toPack;t.push(a.state.newItem),a.setState({error:"",newItem:"",toPack:t}),f.a.post("/saved/profile/list/".concat(a.props.user.id),{list:a.state.toPack}).then(function(e){console.log("updated user list",e.data)}).catch(function(e){console.log("err",e)})}else a.setState({error:"Please enter something to pack"})},a.newItemChange=function(e){a.setState({newItem:e.target.value})},a.state={error:"",toPack:[],newItem:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;f.a.get("/saved/profile/"+this.props.user.id).then(function(t){e.setState({toPack:t.data.list})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"packing-list-container z-depth-3"},s.a.createElement(C,{items:this.state.toPack,onDelete:this.deleteItem}),s.a.createElement("form",null,s.a.createElement("input",{type:"text",className:"form-control",id:"add-list-item",placeholder:"add something to pack",onChange:this.newItemChange,value:this.state.newItem}),s.a.createElement("button",{className:"add-item",onClick:this.add},"Add")))}}]),t}(n.Component),C=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.items.map(function(t){return s.a.createElement(S,{key:t,item:t,onDelete:e.props.onDelete})});return s.a.createElement("ul",{className:"list-group"},t)}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).deleteHandler=function(){a.props.onDelete(a.props.item)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("li",{className:"packing-list-item"},this.props.item,s.a.createElement("button",{className:"packing-list-delete",onClick:this.deleteHandler}," X"))}}]),t}(n.Component),I=y,T=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{class:"card small z-depth-3"},s.a.createElement("div",{class:"card-image"},s.a.createElement("img",{src:this.props.business.imgurl,alt:this.props.business.name,id:"restaurants-saved-image"})),s.a.createElement("div",{class:"card-content",id:"restaurants-saved"},s.a.createElement("p",{id:"saved-rest-name"},s.a.createElement("a",{href:this.props.business.url},s.a.createElement("img",{className:"yelp",src:"https://i.imgur.com/cSLthnw.png",alt:"yelp"}),this.props.business.name)),s.a.createElement("span",null,s.a.createElement("p",null,this.props.business.category," | Rating: ",this.props.business.rating))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={user:{},restaurants:[],list:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.user&&this.props.user.id?f()({url:"/saved/profile/"+this.props.user.id,method:"get",headers:{token:localStorage.getItem("mernToken")}}).then(function(t){e.setState({restaurants:t.data.restaurant,user:e.props.user})}):this.props.history.push("/")}},{key:"render",value:function(){var e,t=this.state.restaurants;return e=t.length<1?s.a.createElement("p",{id:"profile-empty-search"},s.a.createElement("a",{href:"/results"},"Go save some restaurants!")):t.map(function(e){return s.a.createElement(T,{business:e})}),this.props.user&&this.props.user.name?s.a.createElement("div",{className:"container saved-business"},s.a.createElement("h3",{id:"profile-heading"},this.props.user.name,"'s Profile"),s.a.createElement("div",{className:"row profile-body"},s.a.createElement("div",{className:"col s12 m6 packing-list"},s.a.createElement("h5",{id:"profile-pack"},"Packing List:"),s.a.createElement(I,{user:this.props.user})),s.a.createElement("div",{className:"col s12 m6"},s.a.createElement("h5",{id:"profile-search"},"Saved Restaurants:"),e))):s.a.createElement("p",null,"This is a profile page. You need to be logged in to view it.")}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleNameChange=function(e){a.setState({name:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),f.a.post("/auth/signup",{name:a.state.name,email:a.state.email,password:a.state.password}).then(function(e){localStorage.setItem("mernToken",e.data.token),a.props.updateUser()}).catch(function(e){console.log(e.response),a.props.setFlash("error",e.response.status+": "+(e.response.data&&e.response.data.error?e.response.data.message:e.response.statusText))})},a.state={name:"",email:"",password:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="";return this.props.user?s.a.createElement(h.a,{to:"/saved/profile/"}):(e=s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",null,s.a.createElement("input",{name:"Name",placeholder:"What is your first name?",value:this.state.name,onChange:this.handleNameChange})),s.a.createElement("div",null,s.a.createElement("input",{name:"Email",placeholder:"What is your email?",value:this.state.email,onChange:this.handleEmailChange})),s.a.createElement("div",null,s.a.createElement("input",{name:"Password",placeholder:"Choose a password",type:"password",value:this.state.password,onChange:this.handlePasswordChange})),s.a.createElement("button",{type:"submit",value:"Sign up!",class:"waves-effect waves-teal btn-flat"},"Sign Up",s.a.createElement("i",{class:"material-icons left"},"create"))),s.a.createElement("div",{className:"signup-form"},s.a.createElement("div",{className:"container"},e,this.props.user?s.a.createElement(h.a,{to:"/saved/profile"}):"")))}}]),t}(n.Component),F=a(15),L=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"full-page-search"},s.a.createElement("div",{className:"Search container"},s.a.createElement("form",{className:"form",onSubmit:this.props.preventing},s.a.createElement("input",{type:"text",name:"location",placeholder:"Enter Location",value:this.props.query,onChange:this.props.handleInputChange}),s.a.createElement("button",{type:"submit",value:"search",className:"waves-effect waves-teal btn-flat"},"Search",s.a.createElement("i",{className:"material-icons left"},"search")))))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={value:"Save"},a.updateButton=a.updateButton.bind(Object(F.a)(Object(F.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"updateButton",value:function(e){this.props.saveClick(e),this.setState({value:"Saved!"})}},{key:"render",value:function(){return s.a.createElement("div",{className:"card small horizontal"},s.a.createElement("div",{className:"card-image-business"},s.a.createElement("img",{className:"responsive-img",src:this.props.business.image_url,alt:"{this.props.business.name}"})),s.a.createElement("div",{className:"card-stacked"},s.a.createElement("div",{className:"card-content"},s.a.createElement("ul",null,s.a.createElement("li",{className:"restaurant-results"},s.a.createElement("p",{id:"results-rest-name"},s.a.createElement("a",{href:this.props.business.url},s.a.createElement("img",{className:"yelp",src:"https://i.imgur.com/cSLthnw.png",alt:"yelp"}),this.props.business.name)),s.a.createElement("p",{className:"rest-results-detail"},"Rating: ",this.props.business.rating),s.a.createElement("p",{className:"rest-results-detail"},s.a.createElement("bold",null,this.props.business.categories[0].title," "))))),s.a.createElement("ul",null,s.a.createElement("li",{className:"restaurant-results"},s.a.createElement("div",{className:"card-action"},s.a.createElement("input",{type:"button",value:this.state.value,id:this.props.business.id,onClick:this.updateButton}))))))}}]),t}(n.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=[],a=this.props.businesses;return t=a.length<1?s.a.createElement("p",null,"What is your next travel destination?"):a.map(function(t){return s.a.createElement(x,{business:t,saveClick:e.props.saveClick})}),s.a.createElement("div",{className:"results-container container"},s.a.createElement("div",{className:"row"},t))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){a.setState({query:e.target.value})},a.preventing=function(e){e.preventDefault(),f.a.post("/saved/results",{location:a.state.query}).then(function(e){a.setState({businesses:e.data.businesses})}).catch(function(e){console.log("error:",e)})},a.saveClick=function(e){var t;e.preventDefault();for(var n=0;n<a.state.businesses.length;n++)a.state.businesses[n].id===e.target.id&&(t=a.state.businesses[n]);f.a.post("/saved/results/restaurantsaved",{business:t,user:a.props.user}).then(function(e){}).catch(function(e){console.log("err",e)})},a.state={query:"",businesses:[]},a.handleInputChange=a.handleInputChange.bind(Object(F.a)(Object(F.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state.businesses;return this.state.businesses?e=a.map(function(e){return s.a.createElement("div",{className:"container Results"},s.a.createElement("li",null,"b"))}):(e=s.a.createElement("p",null,"none"),console.log(this.state.businesses)),s.a.createElement("div",{className:"container Results"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12 m6 z-depth-3"},e),s.a.createElement(L,{query:this.state.query,handleInputChange:function(e){return t.handleInputChange(e)},preventing:this.preventing,onSubmit:this.handleSubmit}),s.a.createElement(D,{businesses:this.state.businesses,saveClick:this.saveClick})))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.getUser()},a.getUser=function(){var e=localStorage.getItem("mernToken");"undefined"===e||null===e||""===e||void 0===e?(localStorage.removeItem("mernToken"),a.setState({token:"",user:null})):f.a.post("/auth/me/from/token",{token:e}).then(function(e){localStorage.setItem("mernToken",e.data.token),a.setState({token:e.data.token,user:e.data.user})}).catch(function(e){console.log("cdm",e),a.setState({token:"",user:null})})},a.setFlash=function(e,t){a.setState({flash:t,flashType:e})},a.cancelFlash=function(){a.setState({flash:"",flashType:""})},a.state={user:{}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(p.a,null,s.a.createElement("div",null,s.a.createElement(k,{user:this.state.user,updateUser:this.getUser}),s.a.createElement("div",{className:"space"},s.a.createElement(v,{flashType:this.state.flashType,flash:this.state.flash,setFlash:this.setFlash,cancelFlash:this.cancelFlash}),s.a.createElement(h.b,{exact:!0,path:"/",component:j}),s.a.createElement(h.b,{path:"/about",component:g}),s.a.createElement(h.b,{path:"/results",component:function(){return s.a.createElement(A,{user:e.state.user,updateUser:e.getUser})}}),s.a.createElement(h.b,{path:"/login",component:function(){return s.a.createElement(w,{user:e.state.user,setFlash:e.setFlash,updateUser:e.getUser})}}),s.a.createElement(h.b,{path:"/signup",component:function(){return s.a.createElement(U,{user:e.state.user,setFlash:e.setFlash,updateUser:e.getUser})}}),s.a.createElement(h.b,{path:"/saved/profile",component:function(t){return s.a.createElement(P,Object.assign({user:e.state.user,setFlash:e.setFlash},t))}})))),s.a.createElement(b,null))}}]),t}(n.Component),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(s.a.createElement(B,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");W?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):R(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):R(e)})}}()},30:function(e,t,a){},54:function(e,t,a){e.exports=a(136)},59:function(e,t,a){}},[[54,1,2]]]);
//# sourceMappingURL=main.6fd19dc3.chunk.js.map